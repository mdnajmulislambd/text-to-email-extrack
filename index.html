<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-site-verification" content="HxzqLO2Fig3DWdZqmgkmE-xAUTJxSegi0T0imw7rpEQ" />
    <title>Advanced Email Extractor & Dorker</title>
    <style>
        /* CSS Variables for Themes */
        :root {
            --bg-color: #ffffff;
            --text-color: #333333;
            --input-bg: #ffffff;
            --border-color: #ccc;
            --primary-blue: #007bff;
            --hover-blue: #0056b3;
            --sub-btn-bg: #f8f9fa;
        }

        [data-theme="dark"] {
            --bg-color: #1a1a1a;
            --text-color: #f0f0f0;
            --input-bg: #2d2d2d;
            --border-color: #444;
            --sub-btn-bg: #333;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            transition: all 0.3s ease;
            margin: 0;
            padding: 20px;
        }

        /* Dark Mode Toggle */
        .theme-switch {
            position: fixed;
            top: 20px;
            right: 20px;
            cursor: pointer;
            padding: 8px 15px;
            border-radius: 20px;
            background: var(--primary-blue);
            color: white;
            border: none;
            font-weight: bold;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        .main-level { text-align: center; font-size: 32px; margin-bottom: 5px; }
        .sub-level { text-align: center; font-size: 18px; color: gray; margin-bottom: 30px; }

        .buttons { text-align: center; margin-bottom: 20px; }
        .buttons button {
            font-size: 16px; padding: 10px 20px; margin: 5px;
            cursor: pointer; border: 2px solid var(--primary-blue);
            border-radius: 8px; background: transparent;
            color: var(--primary-blue); transition: 0.3s;
        }

        .buttons button.selected {
            background: var(--primary-blue); color: white;
        }

        .sub-buttons {
            display: none; text-align: center; gap: 10px;
            padding: 15px; background: var(--sub-btn-bg);
            border-radius: 10px; margin-bottom: 20px;
            flex-wrap: wrap; justify-content: center;
        }

        .sub-buttons.active { display: flex; }

        .sub-btn {
            padding: 8px 16px; border: 1px solid var(--border-color);
            border-radius: 5px; background: var(--input-bg);
            color: var(--text-color); cursor: pointer;
        }

        .sub-btn:disabled { opacity: 0.5; cursor: not-allowed; }

        textarea {
            width: 100%; height: 250px; padding: 15px;
            background: var(--input-bg); color: var(--text-color);
            border: 2px solid var(--border-color); border-radius: 8px;
            font-size: 16px; box-sizing: border-box; resize: vertical;
        }

        #email-info { margin-bottom: 10px; display: block; font-weight: bold; }

        /* Advanced Options */
        .advance-panel {
            display: none; margin-top: 15px; padding: 15px;
            border: 1px dashed var(--primary-blue); border-radius: 8px;
        }

        /* Dork Generator UI */
        .dork-ui { display: none; flex-direction: column; gap: 10px; margin-bottom: 20px; }
        .dork-ui input { padding: 10px; border-radius: 5px; border: 1px solid var(--border-color); background: var(--input-bg); color: var(--text-color); }
        /* Footer Section Design */
    .footer-section {
        margin-top: 60px;
        padding: 30px 10px;
        text-align: center;
        border-top: 1px solid var(--border-color);
        background: transparent;
    }

    .footer-section p {
        margin: 5px 0;
        font-size: 15px;
        color: var(--text-color);
    }

    .footer-section .dev-name {
        font-weight: bold;
        color: var(--primary-blue);
        text-transform: uppercase;
        letter-spacing: 1px;
    }

    .social-links {
        margin-top: 15px;
        display: flex;
        justify-content: center;
        gap: 20px;
    }

    .social-links a {
        text-decoration: none;
        color: white;
        padding: 8px 18px;
        border-radius: 25px;
        font-size: 13px;
        font-weight: 500;
        transition: all 0.3s ease;
    }

    .fb-link { background-color: #1877F2; }
    .tg-link { background-color: #0088cc; }

    .social-links a:hover {
        transform: translateY(-3px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        opacity: 0.9;
    }

    .copyright-text {
        font-size: 12px !important;
        opacity: 0.7;
        margin-top: 20px !important;
    }
    </style>
</head>
<body data-theme="light">

    <button class="theme-switch" onclick="toggleTheme()">üåô Dark Mode</button>

    <div class="container">
        <h1 class="main-level">Text To Email Extractor Pro</h1>
        <h3 class="sub-level">Fast, Secure & Advanced Extraction</h3>

        <div class="buttons">
            <button id="btn-text-extract" class="selected" onclick="switchTab('text-extract')">Email Extractor</button>
            <button id="btn-dork" onclick="switchTab('dork')">Google Dork Tool</button>
        </div>

        <div id="sub-buttons-text-extract" class="sub-buttons active">
            <button class="sub-btn" id="extract-btn" onclick="extractEmails()" disabled>Extract</button>
            <button class="sub-btn" id="copy-btn" onclick="copyToClipboard()" disabled>Copy</button>
            <button class="sub-btn" onclick="clearAll()">Clear</button>
            <button class="sub-btn" id="undo-btn" onclick="undo()" disabled>Undo</button>
            <button class="sub-btn" onclick="pasteFromClipboard()">Paste</button>
            <button class="sub-btn" onclick="toggleAdvance()">Advance</button>
        </div>

        <div id="sub-buttons-dork" class="sub-buttons">
            <button class="sub-btn" onclick="generateDork()">Generate Dork</button>
            <button class="sub-btn" onclick="searchAndExtract()">Search & Extract</button>
            <button class="sub-btn" onclick="urlToExtract()">URL to Extract</button>
        </div>

        <div id="dork-ui" class="dork-ui">
            <input type="text" id="dork-keyword" placeholder="Keywords (e.g. 'Software Engineer')">
            <input type="text" id="dork-site" placeholder="Site (e.g. linkedin.com)">
            <input type="text" id="dork-domain" placeholder="Email Domain (e.g. @gmail.com)">
        </div>

        <div id="advance-panel" class="advance-panel">
            <strong>Custom Regex Patterns (Line by Line):</strong><br><br>
            <textarea id="regex-input" style="height: 80px;"></textarea>
            <button class="sub-btn" style="margin-top: 5px;" onclick="resetRegex()">Reset to Default</button>
        </div>

        <span id="email-info">Found: <span id="email-count">0</span> emails</span>
        <textarea id="main-input" placeholder="Paste your text here..." oninput="checkInput()"></textarea>
    </div>

    <footer class="footer-section">
    <p>Developed with ‚ù§Ô∏è by <span class="dev-name">OmOr FaRuK</span></p>
    
    <div class="social-links">
        <a href="https://www.facebook.com/share/18j9Fo2hhj/" target="_blank" class="fb-link">Facebook</a>
        <a href="https://t.me/BD12Haker" target="_blank" class="tg-link">Telegram</a>
    </div>

    <p class="copyright-text">
        ¬© 2026 Open Source Project. This tool is <strong>Free to Use</strong> for everyone.
    </p>
</footer>

    <script>
        // --- State Management ---
        let history = "";
        let defaultRegex = [
            "[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}",
            "[a-zA-Z0-9._%+-]+\\s*\\(at\\)\\s*[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}", // Handles (at)
            "[a-zA-Z0-9._%+-]+\\s*@\\s*yahoo\\.com",
            "[a-zA-Z0-9._%+-]+\\s*@\\s*hotmail\\.com"
        ];

        // Initialize Regex Input
        document.getElementById('regex-input').value = defaultRegex.join('\n');

        // --- Core Functions ---

        function checkInput() {
            const val = document.getElementById('main-input').value;
            document.getElementById('extract-btn').disabled = val.trim() === "";
        }

        function extractEmails() {
            const inputField = document.getElementById('main-input');
            const text = inputField.value;
            history = text; // Save for undo
            
            const patterns = document.getElementById('regex-input').value.split('\n');
            let foundEmails = [];

            patterns.forEach(p => {
                if (p.trim() !== "") {
                    const re = new RegExp(p, 'gi');
                    const matches = text.match(re);
                    if (matches) foundEmails = [...foundEmails, ...matches];
                }
            });

            // Remove duplicates
            const uniqueEmails = [...new Set(foundEmails)];
            
            inputField.value = uniqueEmails.join('\n');
            document.getElementById('email-count').innerText = uniqueEmails.length;
            document.getElementById('copy-btn').disabled = uniqueEmails.length === 0;
            document.getElementById('undo-btn').disabled = false;
        }

        function copyToClipboard() {
            const textarea = document.getElementById('main-input');
            textarea.select();
            document.execCommand('copy');
            alert("Emails copied to clipboard!");
        }

        function clearAll() {
            const input = document.getElementById('main-input');
            if(input.value !== "") history = input.value;
            input.value = "";
            document.getElementById('email-count').innerText = "0";
            document.getElementById('undo-btn').disabled = false;
            checkInput();
        }

        function undo() {
            if (history !== "") {
                document.getElementById('main-input').value = history;
                history = ""; 
                document.getElementById('undo-btn').disabled = true;
                checkInput();
            }
        }

        async function pasteFromClipboard() {
            try {
                const text = await navigator.clipboard.readText();
                document.getElementById('main-input').value += text;
                checkInput();
            } catch (err) {
                alert("Please allow clipboard access.");
            }
        }

        // --- UI Logic ---

        function switchTab(tab) {
            // Update buttons
            document.getElementById('btn-text-extract').classList.toggle('selected', tab === 'text-extract');
            document.getElementById('btn-dork').classList.toggle('selected', tab === 'dork');

            // Update sub-menus
            document.getElementById('sub-buttons-text-extract').classList.toggle('active', tab === 'text-extract');
            document.getElementById('sub-buttons-dork').classList.toggle('active', tab === 'dork');
            
            // Show/Hide Dork Inputs
            document.getElementById('dork-ui').style.display = (tab === 'dork') ? 'flex' : 'none';
        }

        function toggleTheme() {
            const body = document.body;
            const current = body.getAttribute('data-theme');
            const newTheme = current === 'light' ? 'dark' : 'light';
            body.setAttribute('data-theme', newTheme);
            document.querySelector('.theme-switch').innerText = newTheme === 'light' ? 'üåô Dark Mode' : '‚òÄÔ∏è Light Mode';
        }

        function toggleAdvance() {
            const panel = document.getElementById('advance-panel');
            panel.style.display = panel.style.display === 'block' ? 'none' : 'block';
        }

        function resetRegex() {
            document.getElementById('regex-input').value = defaultRegex.join('\n');
        }

        // --- Google Dork Logic ---

        function generateDork() {
            const keyword = document.getElementById('dork-keyword').value || '"CEO"';
            const site = document.getElementById('dork-site').value || 'linkedin.com';
            const domain = document.getElementById('dork-domain').value || '@gmail.com';
            
            const dork = `site:${site} "${keyword}" "${domain}"`;
            document.getElementById('main-input').value = dork;
            checkInput();
        }

        function searchAndExtract() {
            const dork = document.getElementById('main-input').value;
            if(!dork) { alert("Please generate a dork first!"); return; }
            
            // Using a simple redirect to Google for the user to copy results
            const url = `https://www.google.com/search?q=${encodeURIComponent(dork)}&num=100`;
            window.open(url, '_blank');
            alert("Step: 1. Search Results opened.\n2. Press Ctrl+A and Ctrl+C on Google page.\n3. Paste the text back here and click 'Extract'.");
        }

        async function urlToExtract() {
            const url = prompt("Enter the URL to fetch emails from:");
            if (url) {
                document.getElementById('main-input').value = "Fetching content... (Note: Cross-Origin restrictions may apply)";
                try {
                    // Using a CORS proxy for demo purposes (in real app, a backend or specialized API is better)
                    const response = await fetch(`https://api.allorigins.win/get?url=${encodeURIComponent(url)}`);
                    const data = await response.json();
                    document.getElementById('main-input').value = data.contents;
                    extractEmails();
                } catch (e) {
                    alert("Error: Could not fetch URL. This is usually due to CORS policy.");
                }
            }
        }
    </script>
</body>

</html>
